<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>@fly/v8env documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">@fly/v8env documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li>Image</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/fly/image.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Image manipulation APIs. Resize, convert, crop, etc. You can use this library to optimize images on-the-fly. Or, do clever things like adding watermarks.</p>
<div><pre class="line-numbers"><code class="language-javascript">import { Image } from &quot;&#64;fly/image&quot;
const resp = await fetch(url)
if (resp.status != 200) {
  throw new Error(&quot;Couldn&#39;t load image: &quot; + url)
}
const body = await resp.arrayBuffer()

return new Image(body)</code></pre></div>
            </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#background">background</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#crop">crop</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#crop">crop</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#embed">embed</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#extend">extend</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#flatten">flatten</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#jpeg">jpeg</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#max">max</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#metadata">metadata</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#negate">negate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#overlayWith">overlayWith</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#png">png</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#resize">resize</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#scale">scale</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#toBuffer">toBuffer</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#toImage">toImage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#webp">webp</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#withMetadata">withMetadata</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#withoutEnlargement">withoutEnlargement</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#gravity">gravity</a>
                                </li>
                                <li>
                                    <a href="#strategy">strategy</a>
                                </li>
                                <li>
                                    <a href="#kernel">kernel</a>
                                </li>
                                <li>
                                    <a href="#fit">fit</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(data: <a href="../interfaces/CreateOptions.html">ArrayBuffer | CreateOptions</a>)</code>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Constructs a new Image from raw Buffer data</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>data</td>
                                                  
                                                        <td>
                                                                    <code><a href="../interfaces/CreateOptions.html" target="_self" >ArrayBuffer | CreateOptions</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Raw image data as a buffer, or options to create a new image</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="background"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            background
                            </b>
                            <a href="#background"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>background(rgba: <a href="../interfaces/Color.html">string | Color</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Set the background for the <code>embed</code>, <code>flatten</code> and <code>extend</code> operations.
The default background is <code>{r: 0, g: 0, b: 0, alpha: 1}</code>, black without transparency.</p>
<p>Delegates to the <em>color</em> module, which can throw an Error
but is liberal in what it accepts, clipping values to sensible min/max.
The alpha value is a float between <code>0</code> (transparent) and <code>1</code> (opaque).</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>rgba</td>
                                                        <td>
                                                                    <code><a href="../interfaces/Color.html" target="_self" >string | Color</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><ul>
<li>parsed by the <a href="https://www.npmjs.org/package/color">color</a> module to extract values for red, green, blue and alpha.</li>
</ul>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="crop"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            crop
                            </b>
                            <a href="#crop"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>crop(width: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, height?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, crop?: <a href="../undefineds/strategy.html">gravity | strategy</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Crop to the specified width/height.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>width</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>width to crop to</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>height</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>height to crop to, defaults to proportional height</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>crop</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/enumerations.html#strategy" target="_self" >gravity | strategy</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>the cropping strategy to use</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    <p>the Image instance</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="crop"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            crop
                            </b>
                            <a href="#crop"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>crop(crop?: <a href="../undefineds/strategy.html">gravity | strategy</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Crop the resized image to the exact size specified, the default behaviour.</p>
<p>Possible attributes of the optional <code>sharp.gravity</code> are <code>north</code>, <code>northeast</code>, <code>east</code>, <code>southeast</code>, <code>south</code>,
<code>southwest</code>, <code>west</code>, <code>northwest</code>, <code>center</code> and <code>centre</code>.</p>
<p>The experimental strategy-based approach resizes so one dimension is at its target length
then repeatedly ranks edge regions, discarding the edge with the lowest score based on the selected strategy.</p>
<ul>
<li><code>entropy</code>: focus on the region with the highest <a href="https://en.wikipedia.org/wiki/Entropy_%28information_theory%29">Shannon entropy</a>.</li>
<li><code>attention</code>: focus on the region with the highest luminance frequency, colour saturation and presence of skin tones.</li>
</ul>
<div><pre class="line-numbers"><code class="language-javascript">   * const cropped = await new Image(input)
   *   .resize(200, 200)
   *   .crop(strategy.entropy)
   *   .toBuffer()
   *</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>crop</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/enumerations.html#strategy" target="_self" >gravity | strategy</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>the cropping strategy to use</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    <p>the Image instance</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="embed"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            embed
                            </b>
                            <a href="#embed"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>embed(gravity?: <a href="../undefineds/gravity.html">gravity</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Preserving aspect ratio, resize the image to the maximum <code>width</code> or <code>height</code> specified
then embed on a background of the exact <code>width</code> and <code>height</code> specified.</p>
<p>If the background contains an alpha value then WebP and PNG format output images will
contain an alpha channel, even when the input image does not.</p>
<div><pre class="line-numbers"><code class="language-javascript">   const data = new Image(input)
     .resize(200, 300)
     .background({r: 0, g: 0, b: 0, alpha: 0})
     .embed()
     .toBuffer();</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>gravity</td>
                                                        <td>
                                                                    <code><a href="../miscellaneous/enumerations.html#gravity" target="_self" >gravity</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>embed to an edge/corner, defaults to <code>center</code>.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="extend"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            extend
                            </b>
                            <a href="#extend"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>extend(extend: <a href="../interfaces/ExtendOptions.html">number | ExtendOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Pads image by number of pixels. If image is 200px wide, <code>extend(20)</code> makes it 220px wide</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>extend</td>
                                                        <td>
                                                                    <code><a href="../interfaces/ExtendOptions.html" target="_self" >number | ExtendOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>If numeric, pads all sides of an image.</p>
<p>Otherwise, pad each side by the specified amount.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="flatten"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            flatten
                            </b>
                            <a href="#flatten"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>flatten(flatten: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Merge alpha transparency channel, if any, with <code>background</code>.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>flatten</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Defaults to true</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="jpeg"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            jpeg
                            </b>
                            <a href="#jpeg"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>jpeg(options?: <a href="../interfaces/JpegOptions.html">JpegOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Output image to JPEG</p>
<div><pre class="line-numbers"><code class="language-javascript">   // Convert any input to very high quality JPEG output
   const data = await new Image(input)
     .jpeg({
       quality: 100,
       chromaSubsampling: &#39;4:4:4&#39;
     })
     .toBuffer();</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/JpegOptions.html" target="_self" >JpegOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>JPEG output options</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="max"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            max
                            </b>
                            <a href="#max"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>max()</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Preserving aspect ratio, resize the image to be as large as possible
while ensuring its dimensions are less than or equal to the <code>width</code> and <code>height</code> specified.</p>
<p>Both <code>width</code> and <code>height</code> must be provided via <code>resize</code> otherwise the behavior will default to <code>crop</code>.</p>
<div><pre class="line-numbers"><code class="language-javascript">   const data = await new Image(inputBuffer)
     .resize(200, 200)
     .max()
     .toBuffer()</code></pre></div></div>

                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="metadata"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            metadata
                            </b>
                            <a href="#metadata"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>metadata()</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Get metadata from image</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../interfaces/Metadata.html" target="_self" >Metadata</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="negate"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            negate
                            </b>
                            <a href="#negate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>negate()</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Produce the &quot;negative&quot; of the image.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="overlayWith"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            overlayWith
                            </b>
                            <a href="#overlayWith"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>overlayWith(overlay: <a href="../classes/Image.html">ArrayBuffer | Image</a>, options?: <a href="../interfaces/OverlayOptions.html">Image.OverlayOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Overlay (composite) an image over the processed (resized, extracted etc.) image.</p>
<p>The overlay image must be the same size or smaller than the processed image. If both top and left options are provided, they take precedence over gravity.</p>
<p>If the overlay image contains an alpha channel then composition with premultiplication will occur.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>overlay</td>
                                                        <td>
                                                                    <code><a href="../classes/Image.html" target="_self" >ArrayBuffer | Image</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>image to overlay</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/OverlayOptions.html" target="_self" >Image.OverlayOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>control how the overlay is composited</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="png"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            png
                            </b>
                            <a href="#png"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>png(options?: <a href="../interfaces/PngOptions.html">PngOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Use these PNG options for output image.</p>
<p>PNG output is always full colour at 8 or 16 bits per pixel.
Indexed PNG input at 1, 2 or 4 bits per pixel is converted to 8 bits per pixel.</p>
<div><pre class="line-numbers"><code class="language-javascript">   // Convert any input to PNG output
   const data = await new Image(input)
     .png()
     .toBuffer();</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/PngOptions.html" target="_self" >PngOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Compression and encoding options</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="resize"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            resize
                            </b>
                            <a href="#resize"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>resize(width?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, height?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, options?: <a href="../interfaces/ResizeOptions.html">Image.ResizeOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Resize image to <code>width</code> x <code>height</code>. By default, the resized image is center
cropped to the exact size specified.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>width</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Width in pixels of the resulting image.
Pass <code>undefined</code> or <code>null</code> to auto-scale the width to match the height.</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>height</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Height in pixels of the resulting image.
Pass <code>undefind</code> or <code>null</code> to auto-scale the height to match the width.</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/ResizeOptions.html" target="_self" >Image.ResizeOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Resize options</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="scale"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            scale
                            </b>
                            <a href="#scale"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>scale(width?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, height?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, options?: <a href="../interfaces/ScaleOptions.html">Image.ScaleOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Scale image to <code>width</code> x <code>height</code>. This does not crop the image, it scales it to fit 
the specified width and height, and keeps the aspect ratio by default.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>width</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Width in pixels of the resulting image.
Pass <code>undefined</code> or <code>null</code> to auto-scale the width to match the height.</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>height</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Height in pixels of the resulting image.
Pass <code>undefind</code> or <code>null</code> to auto-scale the height to match the width.</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/ScaleOptions.html" target="_self" >Image.ScaleOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Scale options</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="toBuffer"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                                <span class="modifier">Async</span>
                            toBuffer
                            </b>
                            <a href="#toBuffer"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>toBuffer()</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../interfaces/OperationResult.html" target="_self" >Promise&lt;OperationResult&gt;</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="toImage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                                <span class="modifier">Async</span>
                            toImage
                            </b>
                            <a href="#toImage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>toImage()</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="../classes/Image.html" target="_self" >Promise&lt;Image&gt;</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="webp"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            webp
                            </b>
                            <a href="#webp"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>webp(options?: <a href="../interfaces/WebpOptions.html">WebpOptions</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Output to webp.</p>
<div><pre class="line-numbers"><code class="language-none">   // Convert any input to lossless WebP output
   const data = await new Image(input)
     .webp({ lossless: true })
     .toBuffer();</code></pre></div></div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code><a href="../interfaces/WebpOptions.html" target="_self" >WebpOptions</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>webp encoding options, quality, etc</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="withMetadata"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            withMetadata
                            </b>
                            <a href="#withMetadata"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>withMetadata(options?: literal type)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Include all metadata (EXIF, XMP, IPTC) from the input image in the output image.
The default behaviour, when <code>withMetadata</code> is not used, is to strip all metadata
and convert to the device-independent sRGB colour space. This will also convert
to and add a web-friendly sRGB ICC profile.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>options</td>
                                                        <td>
                                                                    <code>literal type</code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p><code>options.orientation:</code> value between 1 and 8, used to update the EXIF
<code>Orientation</code> tag.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="withoutEnlargement"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            withoutEnlargement
                            </b>
                            <a href="#withoutEnlargement"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>withoutEnlargement(flag?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                    </td>
                </tr>




                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Do not enlarge the output image if the input image width or height are already less than the required dimensions.
This is equivalent to GraphicsMagick&#39;s <code>&gt;</code> geometry option: <em>&quot;change the dimensions of the image only if its width
or height exceeds the geometry specification&quot;</em>. Use with <code>max()</code> to preserve the image&#39;s aspect ratio
The default behaviour before function call is false, meaning the image will be enlarged.</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>flag</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Toggle option</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code>this</code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>






            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="gravity"></a>
                        <span class="name"><b>gravity</b><a href="#gravity"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>gravity()</code></span>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="strategy"></a>
                        <span class="name"><b>strategy</b><a href="#strategy"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>strategy()</code></span>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="kernel"></a>
                        <span class="name"><b>kernel</b><a href="#kernel"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>kernel()</code></span>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="fit"></a>
                        <span class="name"><b>fit</b><a href="#fit"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>fit()</code></span>
                    </td>
                </tr>

            </tbody>
        </table>
</section>
    </div>


</div>







                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'Image.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <script src="../js/menu-wc.js"></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
